runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
?renderUI()
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
df.res <- as.data.frame(res, row.names = F)
colnames(df.res) <- c("sgg", "person")
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp()
runApp('~/Desktop/DC/test2/asd')
getwd()
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
?plotlyOutput()
plotlyOutput
plotoutput
plotOutput
?plotOutput()
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
?headContent()
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
?quartz()
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test2/asd')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
install.packages("shinythemes")
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
shiny::runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
rsconnect::showLogs()
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
########## 이동 평균 그래프##########
coach_dygraph <- function(region, day) {
path <- paste0("data/dygraph/est_", region, ".txt")
dat <- read.delim(path)
dat$method <- as.character(dat$method)
method2 <- c("positive.rate", paste0("mv", day))
dat2 <- dat[which(dat$method %in% method2), ]
pr <- dat2[dat2$method == unique(dat2$method)[1], ]
mv <- dat2[dat2$method == unique(dat2$method)[2], ]
pr$date <- as.Date(pr$date, "%Y-%m-%d")
mv$date <- as.Date(mv$date, "%Y-%m-%d")
xt_pr <- xts(x = pr$kits, order.by = pr$date)
xt_mv <- xts(x = mv$kits, order.by = mv$date)
total <- cbind(xt_pr, xt_mv)
colnames(total) <- c("기존 키트수 ", "이동 평균 적용 키트수")
graph <- dygraph(total) %>%
dyRangeSelector() %>%
dyOptions(drawPoints = T, colors = c("#164068", "black"), drawGrid = F)
return(graph)
}
runApp('~/Desktop/DC/test')
runApp()
runApp('~/Desktop/DC/test')
runApp('~/Desktop/DC/test')
yesu <- readRDS("~/Desktop/DC/test/data/yesu.rds")
View(yesu)
View(yesu)
########## 이동 평균 그래프##########
coach_dygraph <- function(region, day) {
path <- paste0("data/dygraph/est_", region, ".txt")
dat <- read.delim(path)
dat$method <- as.character(dat$method)
method2 <- c("positive.rate", paste0("mv", day))
dat2 <- dat[which(dat$method %in% method2), ]
pr <- dat2[dat2$method == unique(dat2$method)[1], ]
mv <- dat2[dat2$method == unique(dat2$method)[2], ]
pr$date <- as.Date(pr$date, "%Y-%m-%d")
mv$date <- as.Date(mv$date, "%Y-%m-%d")
xt_pr <- xts(x = pr$kits, order.by = pr$date)
xt_mv <- xts(x = mv$kits, order.by = mv$date)
total <- cbind(xt_pr, xt_mv)
colnames(total) <- c("기존 키트수 ", "이동 평균 적용 키트수")
graph <- dygraph(total) %>%
dyRangeSelector() %>%
dyOptions(drawPoints = T, colors = c("#164068", "black"), drawGrid = F)
return(graph)
}
coach_dygraph("chungnam",1)
coach_dygraph("busan",1)
getwd()
setwd("/Users/taylor/Desktop/DC/test")
coach_dygraph("busan",1)
coach_dygraph("chungnam",1)
runApp()
group_min("pusan", 1)
group_min("pusan", 1)
############## 그룹 수 최적화######
group_min <- function(region,mv) {
coach.mv <- function(dataframe, column, day) {
if (day == 1) {
one_nrow <- length(dataframe[, column]) - 1
oneday <- c(0, dataframe[1:one_nrow, column])
return(oneday)
} else if (day == 7) {
week <- data.frame()
for (i in unique(dataframe[, "week"])) {
dat <- dataframe[dataframe$week == i, ]
n <- length(dat[, column])
week.mean <- mean(dat[, column])
week.rep <- rep(week.mean, n)
res <- data.frame(week = i, p = week.rep)
week <- rbind(week, res)
}
one <- rep(0, nrow(week[week$week == unique(week$week)[1],]))
summ <- c()
for (a in unique(week$week)[2:length(unique(week$week))]) {
b <- a - 1
first <- week[week$week == b, "p"][1]
second <- rep(first, nrow(week[week$week == a,]))
summ <- c(summ, second)
}
summ <- c(one, summ)
return(summ)
} else {
over.day <- rep(0, day)
day2 <- day + 1
for (mv in day2:nrow(dataframe)) {
low <- mv - day
high <- mv - 1
test.mean <- dataframe[low:high, column]
mean2 <- mean(test.mean)
over.day <- c(over.day, mean2)
}
return(over.day)
}
}
if(!file.exists("data/yesu.rds")){
stop("check yesu.rds object")
} else{
selected_totalData <- totalData %>%
`[`(totalData$local1 == region,) %>%
na.omit()
p <- coach.mv(selected_totalData,6,mv) %>%
`[`(length(.))
n=1000
ind_vec <- n
for (g in 2:60) {
p_prime <- 1-(1-p)^g
exp_R <- n/g+n*p_prime
ind_vec <- c(ind_vec,exp_R)
}
min(ind_vec)
ind_group <- which(ind_vec==min(ind_vec))
ind_final <- c(ind_group,round(p,4)*100)
ind_final
}
}
group_min("pusan", 1)
totalData <- readRDS("data/yesu.rds")
group_min("pusan", 1)
group_min("pusan", 1)[2]
runApp()
group_min("pusan", 1)[1]}
group_min("pusan", 1)[1]
runApp()
group_min("pusan", 1)[1]
runApp()
group_min("sejong", 1)
runApp()
runApp()
runApp()
runApp()
runApp()
coach_dygraph("korea",1)
coach_dygraph("nation",1)
group_min("korean", 1)[1]
group_min("korea", 1)[1]
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp('~/Desktop/DC/test2/asdzc231')
runApp('~/Desktop/DC/test2/asdzc231')
runApp()
runApp('~/Desktop/DC/test2/asdzc231')
runApp('~/Desktop/DC/test2/asdzc231')
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
?tabpanel()
?tabPanel()
runApp()
runApp()
runApp()
?icon()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
